document.getElementById("summarizeBtn").addEventListener("click",()=>{const e=document.getElementById("inputBox").value,t=document.getElementById("output");e?(t.innerText="â³ AI is thinking... (First run takes ~30s)",chrome.runtime.sendMessage({action:"summarize",text:e},e=>{chrome.runtime.lastError?t.innerText="Error: "+chrome.runtime.lastError.message:"success"===e.status?t.innerText=e.summary:t.innerText="Error: "+e.message})):t.innerText="Please paste some text first!"}),document.getElementById("testBtn").addEventListener("click",async()=>{const e=document.getElementById("debugOutput"),t=document.getElementById("inputBox");e.innerText="ğŸ•µï¸ Hunting for transcript...";let[r]=await chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(r.id,{action:"getPageData"},r=>{chrome.runtime.lastError?e.innerText="Error: Refresh the YouTube page!":"error"===r.status?e.innerText="âŒ "+r.message:(e.innerText="âœ… Transcript extracted!",t.value=r.transcript)})});