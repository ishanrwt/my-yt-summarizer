document.getElementById("summarizeBtn").addEventListener("click",()=>{const e=document.getElementById("inputBox").value,t=document.getElementById("output");e?(t.innerText="⏳ AI is thinking... (First run takes ~30s)",chrome.runtime.sendMessage({action:"summarize",text:e},e=>{chrome.runtime.lastError?t.innerText="Error: "+chrome.runtime.lastError.message:"success"===e.status?t.innerText=e.summary:t.innerText="Error: "+e.message})):t.innerText="Please paste some text first!"}),document.getElementById("testBtn").addEventListener("click",async()=>{const e=document.getElementById("debugOutput");e.innerText="Connecting to tab...";let[t]=await chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t.id,{action:"getPageData"},t=>{chrome.runtime.lastError?e.innerText="Error: Please refresh the YouTube page and try again.":t&&(e.innerText=`✅ Found Video:\n"${t.title}"`)})});